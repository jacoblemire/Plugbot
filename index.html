<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Jada's PlugBot | Aligned Closer Academy</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    :root {
      --primary: #8B5E3C;
      --primary-light: #A67B5B;
      --text: #2D2D2D;
      --text-light: #5E5E5E;
      --bg: #F7F7F8;
      --card-bg: #FFFFFF;
      --border: #E5E5E6;
      --radius: 12px;
      --shadow: 0 4px 12px rgba(0,0,0,0.05);
      --chat-bot: #EDEDF1;
      --chat-user: #8B5E3C;
    }
    
    body {
      margin: 0;
      font-family: 'Inter', sans-serif;
      background: var(--bg);
      color: var(--text);
      min-height: 100vh;
    }
    
    .container {
      max-width: 600px;
      margin: 0 auto;
      padding: 20px;
    }
    
    .profile {
      text-align: center;
      margin-bottom: 30px;
    }
    
    .avatar {
      width: 100px;
      height: 100px;
      border-radius: 50%;
      object-fit: cover;
      margin: 0 auto 15px;
      border: 3px solid white;
      box-shadow: var(--shadow);
    }
    
    h1 {
      font-size: 1.8rem;
      margin: 0 0 5px;
      color: var(--text);
      font-weight: 700;
    }
    
    .bio {
      color: var(--text-light);
      margin: 0 0 20px;
      font-size: 1rem;
      line-height: 1.5;
    }
    
    .link-card {
      background: var(--card-bg);
      border-radius: var(--radius);
      padding: 18px;
      margin-bottom: 15px;
      box-shadow: var(--shadow);
      transition: transform 0.2s;
      border: 1px solid var(--border);
      text-align: center;
    }
    
    .link-card:hover {
      transform: translateY(-3px);
    }
    
    .link-card.chat-trigger {
      background: var(--primary);
      color: white;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
    }
    
    .link-card.chat-trigger i {
      font-size: 1.2rem;
    }
    
    .link-card a {
      text-decoration: none;
      color: inherit;
      display: block;
      font-weight: 500;
    }
    
    .chat-container {
      display: none;
      flex-direction: column;
      height: 60vh;
      background: var(--card-bg);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      overflow: hidden;
      margin-bottom: 15px;
      border: 1px solid var(--border);
    }
    
    .chat-header {
      padding: 15px;
      background: var(--primary);
      color: white;
      display: flex;
      align-items: center;
      gap: 10px;
    }
    
    .chat-header i {
      font-size: 1.2rem;
    }
    
    .chat-messages {
      flex: 1;
      padding: 15px;
      overflow-y: auto;
      display: flex;
      flex-direction: column;
      gap: 12px;
    }
    
    .message {
      max-width: 80%;
      padding: 12px 16px;
      border-radius: var(--radius);
      line-height: 1.4;
      font-size: 0.95rem;
      animation: fadeIn 0.3s ease;
    }
    
    .bot-message {
      align-self: flex-start;
      background: var(--chat-bot);
      color: var(--text);
      border-bottom-left-radius: 4px;
    }
    
    .user-message {
      align-self: flex-end;
      background: var(--chat-user);
      color: white;
      border-bottom-right-radius: 4px;
    }
    
    .chat-input {
      padding: 15px;
      background: var(--card-bg);
      border-top: 1px solid var(--border);
      display: flex;
      gap: 10px;
    }
    
    .chat-input input {
      flex: 1;
      padding: 12px 15px;
      border-radius: var(--radius);
      border: 1px solid var(--border);
      font-family: 'Inter', sans-serif;
      font-size: 0.95rem;
    }
    
    .chat-input input:focus {
      outline: none;
      border-color: var(--primary-light);
    }
    
    .chat-input button {
      background: var(--primary);
      color: white;
      border: none;
      border-radius: var(--radius);
      padding: 0 20px;
      cursor: pointer;
      transition: background 0.2s;
    }
    
    .chat-input button:hover {
      background: var(--primary-light);
    }
    
    .typing-indicator {
      display: flex;
      gap: 5px;
      align-self: flex-start;
      padding: 12px 16px;
      background: var(--chat-bot);
      border-radius: var(--radius);
      width: fit-content;
    }
    
    .typing-dot {
      width: 8px;
      height: 8px;
      background: var(--text-light);
      border-radius: 50%;
      animation: typingAnimation 1.4s infinite ease-in-out;
    }
    
    .typing-dot:nth-child(1) {
      animation-delay: 0s;
    }
    
    .typing-dot:nth-child(2) {
      animation-delay: 0.2s;
    }
    
    .typing-dot:nth-child(3) {
      animation-delay: 0.4s;
    }
    
    @keyframes typingAnimation {
      0%, 60%, 100% { transform: translateY(0); }
      30% { transform: translateY(-4px); }
    }
    
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(5px); }
      to { opacity: 1; transform: translateY(0); }
    }
    
    .hidden {
      display: none;
    }
    
    .back-button {
      background: none;
      border: none;
      color: white;
      cursor: pointer;
      font-size: 1rem;
      margin-right: auto;
    }
    
    .cta-buttons {
      display: flex;
      flex-direction: column;
      gap: 10px;
      margin-top: 15px;
    }
    
    .cta-button {
      padding: 14px;
      border-radius: var(--radius);
      background: var(--primary-light);
      color: white;
      text-decoration: none;
      text-align: center;
      font-weight: 500;
      transition: background 0.2s;
    }
    
    .cta-button:hover {
      background: var(--primary);
    }
    
    @media (max-width: 480px) {
      .container {
        padding: 15px;
      }
      
      .avatar {
        width: 80px;
        height: 80px;
      }
      
      h1 {
        font-size: 1.5rem;
      }
      
      .chat-container {
        height: 65vh;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <div id="profileSection">
      <div class="profile">
        <img src="https://raw.githubusercontent.com/jacoblemire/plugbot-ai/main/PlugBot.png" alt="Jada's PlugBot" class="avatar" onerror="this.src='https://via.placeholder.com/100x100?text=PB'">
        <h1>Jada's PlugBot</h1>
        <p class="bio">Let's see if the Aligned Closer Academy is right for you</p>
      </div>
      
      <div class="link-card chat-trigger" id="startChatBtn">
        <i class="fas fa-comment-dots"></i>
        <span>Chat with PlugBot</span>
      </div>
      
      <div class="link-card">
        <a href="https://mxdenterprises.com/" target="_blank">
          <i class="fas fa-play"></i> Free Training
        </a>
      </div>
      
      <div class="link-card">
        <a href="https://calendly.com/jadafig1" target="_blank">
          <i class="fas fa-calendar-check"></i> Book a Call
        </a>
      </div>
      
      <div class="link-card">
        <a href="https://whop.com/checkout/plan_qcjnbDHeUtHg9?d2c=true" target="_blank">
          <i class="fas fa-lock"></i> Join Academy
        </a>
      </div>
    </div>
    
    <div class="chat-container" id="chatContainer">
      <div class="chat-header">
        <button class="back-button" id="backButton">
          <i class="fas fa-arrow-left"></i>
        </button>
        <i class="fas fa-robot"></i>
        <span>PlugBot Assistant</span>
      </div>
      
      <div class="chat-messages" id="chatMessages"></div>
      
      <div class="chat-input">
        <input type="text" id="userInput" placeholder="Type your message..." autocomplete="off">
        <button id="sendButton"><i class="fas fa-paper-plane"></i></button>
      </div>
    </div>
  </div>

  <script>
    const profileSection = document.getElementById('profileSection');
    const chatContainer = document.getElementById('chatContainer');
    const startChatBtn = document.getElementById('startChatBtn');
    const backButton = document.getElementById('backButton');
    const chatMessages = document.getElementById('chatMessages');
    const userInput = document.getElementById('userInput');
    const sendButton = document.getElementById('sendButton');
    
    let step = 0;
    let userData = {};
    let isTyping = false;
    
    const questions = [
      "Hey there! I'm Jada's PlugBot. Ready to see if the Aligned Closer Academy is right for you?",
      "First, what's your name?",
      "Great! What's your email address?",
      "How old are you? (Must be 18+)",
      "Do you have $500+ in savings/credit to invest in your growth?",
      "What's your biggest goal with high-ticket coaching?",
      "When's best for your call: morning, afternoon, or evening?"
    ];
    
    function showTyping() {
      isTyping = true;
      const typingDiv = document.createElement('div');
      typingDiv.className = 'typing-indicator';
      typingDiv.id = 'typingIndicator';
      typingDiv.innerHTML = `
        <div class="typing-dot"></div>
        <div class="typing-dot"></div>
        <div class="typing-dot"></div>
      `;
      chatMessages.appendChild(typingDiv);
      chatMessages.scrollTop = chatMessages.scrollHeight;
    }
    
    function hideTyping() {
      isTyping = false;
      const typing = document.getElementById('typingIndicator');
      if (typing) typing.remove();
    }
    
    function addMessage(text, isUser = false) {
      const messageDiv = document.createElement('div');
      messageDiv.className = `message ${isUser ? 'user-message' : 'bot-message'}`;
      messageDiv.textContent = text;
      chatMessages.appendChild(messageDiv);
      chatMessages.scrollTop = chatMessages.scrollHeight;
    }
    
    function startChat() {
      profileSection.classList.add('hidden');
      chatContainer.style.display = 'flex';
      showTyping();
      setTimeout(() => {
        hideTyping();
        addMessage(questions[step]);
      }, 1000);
    }
    
    function processResponse(response) {
      const lower = response.toLowerCase().trim();
      
      if (step === 0) {
        showTyping();
        setTimeout(() => {
          hideTyping();
          step++;
          addMessage(questions[step]);
        }, 1000);
        return;
      }
      
      if (step === 1) {
        if (!/^[a-zA-Z\s]{2,}$/.test(response)) {
          showTyping();
          setTimeout(() => {
            hideTyping();
            addMessage("Please enter a valid name (letters only, at least 2 characters)");
          }, 1000);
          return;
        }
        userData.name = response;
        showTyping();
        setTimeout(() => {
          hideTyping();
          addMessage(`Nice to meet you, ${response}!`);
          step++;
          addMessage(questions[step]);
        }, 1000);
        return;
      }
      
      if (step === 2) {
        if (!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(response)) {
          showTyping();
          setTimeout(() => {
            hideTyping();
            addMessage("Please enter a valid email address");
          }, 1000);
          return;
        }
        userData.email = response;
        showTyping();
        setTimeout(() => {
          hideTyping();
          step++;
          addMessage(questions[step]);
        }, 1000);
        return;
      }
      
      if (step === 3) {
        const age = parseInt(response);
        if (isNaN(age) || age < 18 || age > 120) {
          showTyping();
          setTimeout(() => {
            hideTyping();
            addMessage("Please enter a valid age (must be 18+)");
          }, 1000);
          return;
        }
        userData.age = age;
        showTyping();
        setTimeout(() => {
          hideTyping();
          step++;
          addMessage(questions[step]);
        }, 1000);
        return;
      }
      
      if (step === 4) {
        if (!/(yes|yea|yeah|yep|sure|i do|i have|credit|card|\$|\d+)/i.test(lower)) {
          userData.hasFunds = false;
          showTyping();
          setTimeout(() => {
            hideTyping();
            addMessage("The program requires $500+ investment. Check back when you're ready!");
            showMainMenu();
          }, 1000);
          return;
        }
        userData.hasFunds = true;
        showTyping();
        setTimeout(() => {
          hideTyping();
          step++;
          addMessage(questions[step]);
        }, 1000);
        return;
      }
      
      if (step === 5) {
        userData.goal = response;
        showTyping();
        setTimeout(() => {
          hideTyping();
          step++;
          addMessage(questions[step]);
        }, 1000);
        return;
      }
      
      if (step === 6) {
        if (!/(morning|afternoon|evening)/i.test(lower)) {
          showTyping();
          setTimeout(() => {
            hideTyping();
            addMessage("Please choose: morning, afternoon, or evening");
          }, 1000);
          return;
        }
        userData.schedulePreference = response;
        showTyping();
        setTimeout(() => {
          hideTyping();
          addMessage(`Perfect! We'll schedule your call for the ${response}.`);
          showCTAs();
        }, 1000);
        return;
      }
    }
    
    function showMainMenu() {
      const html = `
        <div class="message bot-message">
          <p>Here are some options for you:</p>
          <div class="cta-buttons">
            <a href="https://mxdenterprises.com/" class="cta-button" target="_blank">
              <i class="fas fa-play"></i> Free Training
            </a>
            <a href="https://calendly.com/jadafig1" class="cta-button" target="_blank">
              <i class="fas fa-calendar-check"></i> Discovery Call
            </a>
          </div>
        </div>
      `;
      
      const messageDiv = document.createElement('div');
      messageDiv.innerHTML = html;
      chatMessages.appendChild(messageDiv);
      chatMessages.scrollTop = chatMessages.scrollHeight;
    }
    
    function showCTAs() {
      const html = `
        <div class="message bot-message">
          <p>You're a great fit for the Aligned Closer Academy! Next steps:</p>
          <div class="cta-buttons">
            <a href="https://calendly.com/jadafig1" class="cta-button" target="_blank">
              <i class="fas fa-calendar-check"></i> Book Your Call
            </a>
            <a href="https://whop.com/checkout/plan_qcjnbDHeUtHg9?d2c=true" class="cta-button" target="_blank">
              <i class="fas fa-lock"></i> Secure Your Spot
            </a>
          </div>
        </div>
      `;
      
      const messageDiv = document.createElement('div');
      messageDiv.innerHTML = html;
      chatMessages.appendChild(messageDiv);
      chatMessages.scrollTop = chatMessages.scrollHeight;
    }
    
    startChatBtn.addEventListener('click', startChat);
    
    backButton.addEventListener('click', () => {
      chatContainer.style.display = 'none';
      profileSection.classList.remove('hidden');
    });
    
    sendButton.addEventListener('click', () => {
      const message = userInput.value.trim();
      if (message && !isTyping) {
        addMessage(message, true);
        userInput.value = '';
        processResponse(message);
      }
    });
    
    userInput.addEventListener('keypress', (e) => {
      if (e.key === 'Enter') {
        const message = userInput.value.trim();
        if (message && !isTyping) {
          addMessage(message, true);
          userInput.value = '';
          processResponse(message);
        }
      }
    });
  </script>
</body>
</html>
